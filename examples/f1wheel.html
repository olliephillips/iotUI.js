<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<title>iotUI.js - F1wheel</title>
	<meta name="author" content="Ollie Phillips" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
	<link href='https://fonts.googleapis.com/css?family=Bitter:400,400italic' rel='stylesheet' type='text/css'>
	<style>
	body{background-color: #fefefe;}
	h1 {font-size:50px; font-family:'Bitter', serif}
	h2{font-size:20px; padding-bottom:10px; font-family:'Bitter', serif}
	p{font-size:18px; padding-bottom:30px; font-family:'Bitter', serif}
	</style>
</head>
<body>
		<div style="text-align:center;">
			<h1>iotUI.js</h1>
			<h2>F1wheel</h2>
			<div id="event" style="height:20px;"></div>
			<div id="event2" style="height:20px;"></div>
		</div>	
		<iotui-f1wheel 
			id="wheel1" wheellabel="iotUI.js" 
			primarybuttonlabel="TOOT"  startbuttonlabel="START/STOP" 
			secondarybuttonlabel="HONK" 
			width="540">
		</iotui-f1wheel>
		<p style="text-align:center;"><span style="font-weight:bold">Attributes</span><br/> 'id', 'height', 'width', 'wheellabel', 'startbuttonlabel', 'primarybuttonlabel' and 'secondarybuttonlabel'</p>
		<p style="text-align:center;">Note: Steering is intended to be provided by detection of device orientation</p>
	
<script>
function ignitionHandler(){
	clearTimeout(t0)
	document.getElementById('event').innerHTML= '"ignition" event fired. Value: ' + this.state.ignition;
	var t0 = setTimeout(function(){	document.getElementById('event').innerHTML = ''}, 2000);
}

function driveHandler(){
	clearTimeout(t1);
	document.getElementById('event').innerHTML= '"drive" event fired. Value: ' + this.state.drive;
	var t1 = setTimeout(function(){	document.getElementById('event').innerHTML = ''}, 2000);
}

function primaryHandler(){
	clearTimeout(t2);
	document.getElementById('event').innerHTML= '"primarybuttonpush" event fired.';
	var t2 = setTimeout(function(){	document.getElementById('event').innerHTML = ''}, 2000);
}

function secondaryHandler(){
	clearTimeout(t3);
	document.getElementById('event').innerHTML= '"secondarybuttonpush" event fired.';
	var t3 = setTimeout(function(){	document.getElementById('event').innerHTML = ''},2000);
}

function steeringHandler(){
	document.getElementById('event2').innerHTML= '"steer" event  fired. Value: ' + this.state.steer;
}

window.onload = function(){	
	// Set up our listeners
	iotUI.addListener('wheel1', 'ignition', ignitionHandler);
	iotUI.addListener('wheel1', 'primarybuttonpush', primaryHandler);
	iotUI.addListener('wheel1', 'secondarybuttonpush', secondaryHandler);
	iotUI.addListener('wheel1', 'drive', driveHandler);
	iotUI.addListener('wheel1', 'steer', steeringHandler);
}
</script>
<script src="https://rawgit.com/olliephillips/iotUI.js/master/iotUI.js"></script>
</body>
</html>